{\rtf1\ansi\ansicpg1252\deff0\nouicompat\deflang1033{\fonttbl{\f0\fnil Courier New;}{\f1\fnil\fcharset0 Calibri;}}
{\colortbl ;\red0\green0\blue128;\red0\green0\blue0;\red128\green128\blue128;\red102\green14\blue122;\red0\green0\blue255;\red0\green128\blue0;\red128\green128\blue0;\red255\green255\blue255;}
{\*\generator Riched20 10.0.14393}\viewkind4\uc1 
\pard\box\brdrdash\brdrw0 \cbpat8\sa200\sl276\slmult1\cf1\b\f0\fs18\lang9 package \cf2\b0 com.example.shruti.mydata;\line\line\cf3\i /**\line  * Created by shruti on 11/5/2016.\line  */\line\cf1\b\i0 package \cf2\b0 com.androidhive.androidsqlite;\line\cf1\b import \cf2\b0 java.util.ArrayList;\line\cf1\b import \cf2\b0 java.util.List;\line\cf1\b import \cf2\b0 android.content.ContentValues;\line\cf1\b import \cf2\b0 android.content.Context;\line\cf1\b import \cf2\b0 android.database.Cursor;\line\cf1\b import \cf2\b0 android.database.sqlite.SQLiteDatabase;\line\cf1\b import \cf2\b0 android.database.sqlite.SQLiteOpenHelper;\line\line\cf1\b public class \cf2\b0 DBHandler \{\cf1\b public class \cf2\b0 DatabaseHandler \cf1\b extends \cf2\b0 SQLiteOpenHelper \{\line\line     \cf3\i // All Static variables\line     // Database Version\line     \cf1\b\i0 private static final int \cf4\i DATABASE_VERSION \cf2\b0\i0 = \cf5 1\cf2 ;\line\line     \cf3\i // Database Name\line     \cf1\b\i0 private static final \cf2\b0 String \cf4\b\i DATABASE_NAME \cf2\b0\i0 = \cf6\b "TriFitDB"\cf2\b0 ;\line\line     \cf3\i // Contacts table name\line     \cf1\b\i0 private static final \cf2\b0 String \cf4\b\i TABLE_USERACTIVITY \cf2\b0\i0 = \cf6\b "UserActivity"\cf2\b0 ;\line\line     \cf3\i // Contacts Table Columns names\line     \cf1\b\i0 private static final \cf2\b0 Integer \cf4\b\i KEY_DATE \cf2\b0\i0 = \cf6\b "date"\cf2\b0 ;\line     \cf1\b private static final \cf2\b0 String \cf4\b\i KEY_NAME \cf2\b0\i0 = \cf6\b "name"\cf2\b0 ;\line     \cf1\b private static final \cf2\b0 Float  \cf4\b\i KEY_RUNNING \cf2\b0\i0 = \cf6\b "running"\cf2\b0 ;\line     \cf1\b private static final \cf2\b0 Float  \cf4\b\i KEY_BIKING\cf2\b0\i0 = \cf6\b "biking"\cf2\b0 ;\line     \cf1\b private static final \cf2\b0 Float  \cf4\b\i KEY_SWIMMING \cf2\b0\i0 = \cf6\b "swimming"\cf2\b0 ;\line     \cf1\b private static final \cf2\b0 Float  \cf4\b\i KEY_TOTAL\cf2\b0\i0 = \cf6\b "total"\cf2\b0 ;\line\line     \cf1\b public \cf2\b0 DatabaseHandler(Context context) \{\line         \cf1\b super\cf2\b0 (context, \cf4\b\i DATABASE_NAME\cf2\b0\i0 , \cf1\b null\cf2\b0 , \cf4\b\i DATABASE_VERSION\cf2\b0\i0 );\line     \}\line\line     \cf3\i // Creating Tables\line     \cf7\i0 @Override\line     \cf1\b public void \cf2\b0 onCreate(SQLiteDatabase db) \{\line         String CREATE_CONTACTS_TABLE = \cf6\b "CREATE TABLE " \cf2\b0 + \cf4\b\i TABLE_USERACTIVITY \cf2\b0\i0 + \cf6\b "("\line                 \cf2\b0 + \cf4\b\i KEY_DATE \cf2\b0\i0 + \cf6\b " INTEGER PRIMARY KEY," \cf2\b0 + \cf4\b\i KEY_NAME \cf2\b0\i0 + \cf6\b " STRING,"\line                 \cf2\b0 + \cf4\b\i KEY_RUNNING \cf2\b0\i0 + \cf6\b " FLOAT" \cf2\b0 + \cf4\b\i KEY_BIKING \cf2\b0\i0 + \cf6\b "FLOAT" \cf2\b0 + \cf4\b\i KEY_SWIMMING \cf2\b0\i0 + \cf6\b "FLOAT" \cf2\b0 +\line                 \cf4\b\i KEY_TOTAL \cf2\b0\i0 + \cf6\b "FLOAT"")"\cf2\b0 ;\line         db.execSQL(CREATE_USERACTIVITY_TABLE);\line     \}\line\line     \cf3\i // Upgrading database\line     \cf7\i0 @Override\line     \cf1\b public void \cf2\b0 onUpgrade(SQLiteDatabase db, \cf1\b int \cf2\b0 oldVersion, \cf1\b int \cf2\b0 newVersion) \{\line         \cf3\i // Drop older table if existed\line         \cf2\i0 db.execSQL(\cf6\b "DROP TABLE IF EXISTS " \cf2\b0 + \cf4\b\i TABLE_USERACTIVITY\cf2\b0\i0 );\line\line         \cf3\i // Create tables again\line         \cf2\i0 onCreate(db);\line     \}\line\line     \cf3\i /**\line      * All CRUD(Create, Read, Update, Delete) Operations\line      */\line\line     // Adding new contact\line     \cf1\b\i0 void \cf2\b0 addUserActivity(UserActivity contact) \{\line         SQLiteDatabase db = \cf1\b this\cf2\b0 .getWritableDatabase();\line\line         ContentValues values = \cf1\b new \cf2\b0 ContentValues();\line         values.put(\cf4\b\i KEY_NAME\cf2\b0\i0 , contact.getName()); \cf3\i // user Name\line         \cf2\i0 values.put(\cf4\b\i KEY_RUNNING\cf2\b0\i0 , contact.getRunning()); \cf3\i // Contact Phone\line         \cf2\i0 values.put(\cf4\b\i KEY_SWIMMING\cf2\b0\i0 , contact.getSwimming());\line         values.put(\cf4\b\i KEY_BIKING\cf2\b0\i0 , contact.getBiking());\line          \cf3\i // Inserting Row\line         \cf2\i0 db.insert(\cf4\b\i TABLE_USERACTIVITY\cf2\b0\i0 , \cf1\b null\cf2\b0 , values);\line         db.close(); \cf3\i // Closing database connection\line     \cf2\i0\}\line\line     \cf3\i // Getting single contact\line     \cf2\i0 Contact getContact(\cf1\b int \cf2\b0 id) \{\line         SQLiteDatabase db = \cf1\b this\cf2\b0 .getReadableDatabase();\line\line         Cursor cursor = db.query(\cf4\b\i TABLE_USERACTIVITY\cf2\b0\i0 , \cf1\b new \cf2\b0 String[] \{ \cf4\b\i KEY_DATE\cf2\b0\i0 ,\cf4\b\i KEY_NAME\cf2\b0\i0 ,\line                         \cf4\b\i KEY_RUNNING\cf2\b0\i0 ,\cf4\b\i KEY_SWIMMING\cf2\b0\i0 ,\cf4\b\i KEY_BIKING \cf2\b0\i0\}, \cf4\b\i KEY_DATE \cf2\b0\i0 + \cf6\b "=?"\cf2\b0 ,\line                 \cf1\b new \cf2\b0 String[] \{ String.\i valueOf\i0 (id) \}, \cf1\b null\cf2\b0 , \cf1\b null\cf2\b0 , \cf1\b null\cf2\b0 , \cf1\b null\cf2\b0 );\line         \cf1\b if \cf2\b0 (cursor != \cf1\b null\cf2\b0 )\line             cursor.moveToFirst();\line\line         UserActivity useractivity = \cf1\b new \cf2\b0 useractivity(Integer.\i parseInt\i0 (cursor.getString(\cf5 0\cf2 )),\line                 cursor.getString(\cf5 1\cf2 ), cursor.getString(\cf5 2\cf2 ));\line         \cf3\i // return contact\line         \cf1\b\i0 return \cf2\b0 useractivity;\line     \}\line\line     \cf3\i // Getting All Contacts\line     \cf1\b\i0 public \cf2\b0 List<useractivity> getAllUseractivity() \{\line         List<UserActivity> userActivityList = \cf1\b new \cf2\b0 ArrayList<UserActivity>();\line         \cf3\i // Select All Query\line         \cf2\i0 String selectQuery = \cf6\b "SELECT  * FROM " \cf2\b0 + \cf4\b\i TABLE_USERACTIVITY\cf2\b0\i0 ;\line\line         SQLiteDatabase db = \cf1\b this\cf2\b0 .getWritableDatabase();\line         Cursor cursor = db.rawQuery(selectQuery, \cf1\b null\cf2\b0 );\line\line         \cf3\i // looping through all rows and adding to list\line         \cf1\b\i0 if \cf2\b0 (cursor.moveToFirst()) \{\line             \cf1\b do \cf2\b0\{\line                 UserActivity userActivity = \cf1\b new \cf2\b0 userActivity();\line                 userActivity.setDate(Integer.\i parseInt\i0 (cursor.getString(\cf5 0\cf2 )));\line                 userActivity.setName(cursor.getString(\cf5 1\cf2 ));\line                 userActivity.setRunning(cursor.getFloat(\cf5 2\cf2 ));\line                 userActivity.setSwmimming(cursor.getFloat(\cf5 2\cf2 ));\line                 userActivity.setBiking(cursor.getFloat(\cf5 2\cf2 ));\line                 userActivity.setToatl(cursor.getFloat(\cf5 2\cf2 ));\line                 \cf3\i // Adding contact to list\line                 \cf2\i0 userActivityList.add(userActivity);\line             \} \cf1\b while \cf2\b0 (cursor.moveToNext());\line         \}\line\line         \cf3\i // return contact list\line         \cf1\b\i0 return \cf2\b0 userActivityList;\line     \}\line\line     \cf3\i // Updating single contact\line     \cf1\b\i0 public int \cf2\b0 update UserActivity(UserActivity userActivity) \{\line         SQLiteDatabase db = \cf1\b this\cf2\b0 .getWritableDatabase();\line\line         ContentValues values = \cf1\b new \cf2\b0 ContentValues();\line         values.put(\cf4\b\i KEY_NAME\cf2\b0\i0 , userActivity.getName());\line         values.put(\cf4\b\i KEY_RUNNING\cf2\b0\i0 , userActivity.getRunning());\line         values.put(\cf4\b\i KEY_SWIMMING\cf2\b0\i0 , userActivity.getSwimming());\line         values.put(\cf4\b\i KEY_BIKING\cf2\b0\i0 , userActivity.getBiking());\line         values.put(\cf4\b\i KEY_TOTAL\cf2\b0\i0 , userActivity.getTotal());\line         \line         \line\line         \cf3\i // updating row\line         \cf1\b\i0 return \cf2\b0 db.update(\cf4\b\i TABLE_USERACTIVITY\cf2\b0\i0 , values, \cf4\b\i KEY_DATE \cf2\b0\i0 + \cf6\b " = ?"\cf2\b0 ,\line                 \cf1\b new \cf2\b0 String[] \{ String.valueOf(userActivity.getDate()) \});\line     \}\line\line    \line\}\par

\pard\sa200\sl276\slmult1\cf0\f1\fs22\par
}
 